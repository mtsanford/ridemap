<?php
if (isset($routeID)) {
	$setzoom = "Admin.rideMap.zoomToRouteID({$routeID});";
} else {
	$setzoom = "";
}

$html = <<<EOD
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Ridemap - Admin</title>
	<script src="//maps.googleapis.com/maps/api/js?libraries=geometry&sensor=false" type="text/javascript"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="../js/ridemap.js" type="text/javascript"></script>
    <link href="../css/ridemap.css" rel="stylesheet" type="text/css"/>
    <link href="../css/ridemapadmin2.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript">

	var Admin = {
		rideMap : null,
		initialize : function() {
		  Admin.rideMap = new Ridemap('map-canvas', {mode: 'admin'});
		  {$setzoom}
		},
		newRoute : function() {
			window.location='?id=new' + "&zoom=" 
				+ Admin.rideMap.map.getZoom().toString()
				+ "&lat=" + Admin.rideMap.map.getCenter().lat().toString() 
				+ '&lng=' + Admin.rideMap.map.getCenter().lng().toString();
		}
    };

    </script>

  </head>
  <body onload="Admin.initialize()">
  
		<div id="control-panel">
			<div id="control-panel-inner">
				<p>Click on a marker to view EDIT and DELETE options for a route</p>
				<p>Click 'New Route' to create a new route</p>
				<div style="margin:8px;"><input type="button" onclick="Admin.newRoute();" value="New Route"/></div>
				<p>Click 'Tag Routes' to use route tagging tool</p>
				<div style="margin:8px;"><input type="button" onclick="window.location='tag.php';" value="Tag Routes"/></div>
				{$logout_html}
			</div>
		</div> <!-- control-panel -->
		
		<div id="map-container">
			<div id="map-canvas"></div>
		</div>
  
  </body>
</html>
EOD;
